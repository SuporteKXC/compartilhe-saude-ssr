<app-table
  #table
  description="Lista de produtos"
  [data]="perguntas"
  [total]="totalPerguntas"
  [size]="pageSize"
  [(page)]="page"
  [loading]="isLoading"
  [error]="isError"
  [headerTemplate]="headerTemplate"
  [actionsTemplate]="actionsTemplate"
  [loadingTemplate]="loadingTemplate"
  [emptyTemplate]="emptyTemplate"
  [tableStyle]="{ 'min-width': '320px' }"
  [isContained]="false"
  [isAccordion]="true"
  (nextPage)="getPerguntas()">
</app-table>

<ng-template #headerTemplate>
  <th [style]="{ flex: 1 }">Pergunta</th>
</ng-template>

<ng-template #actionsTemplate let-item let-position="index">
  <div class="btn-container flex justify-content-between gap-2">
    <app-button 
      icon="edit" size="small" 
      [text]="true" 
      (handleClick)="navigateToEdit(item.id)">
    </app-button>

    <app-button 
      icon="delete" 
      size="small" 
      [text]="true" 
      (handleClick)="openDeleteModal(item.id)">
    </app-button>
  </div>
</ng-template>

<ng-template #loadingTemplate class="flex">
  <td><p-skeleton width="100%" height="70px" /></td>
  <td class="flex justify-content-center gap-2 mt-4">
    <p-skeleton shape="Square" width="30px" height="30px" styleClass="mx-auto" />
    <p-skeleton shape="Square" width="30px" height="30px" styleClass="mx-auto" />
  </td>
</ng-template>

<ng-template #emptyTemplate>
  <app-error-no-results
    header="NÃ£o encontramos resultados para sua busca."
    description="Verifique os filtros informados."
    iconName="receipt_long" >
  </app-error-no-results>
</ng-template>
